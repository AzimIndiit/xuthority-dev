import{c as N,j as e,A as F,e as C,f as I,N as z,a8 as f,L as v,I as A,F as T,a9 as R,b as O,W as E,r as g,k as $,l as D,aa as H,ab as _,B as V,o as B,s as c,E as U,a0 as W}from"./index-IWE1ll6X.js";import{b as w,f as L,g as S,S as q,j as K,k as G,l as J,m as Q,o as X}from"./select-BPx3IPD1.js";import{U as Y,M as Z}from"./user-BtDuhRRM.js";/**
 * @license lucide-react v0.517.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ae=N("arrow-left",ee);/**
 * @license lucide-react v0.517.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],le=N("bell",se);/**
 * @license lucide-react v0.517.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ie=N("log-out",te),re=({user:s,sidebarItems:o,activeTab:a,onTabChange:i})=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsxs(F,{className:"w-16 h-16",children:[e.jsx(C,{src:(s==null?void 0:s.avatar)||"",alt:"Profile"}),e.jsx(I,{className:"text-lg",children:w(s)})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-black text-gray-800",children:L(s==null?void 0:s.followers)}),e.jsx("div",{className:"text-sm text-gray-500",children:"Followers"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-black text-gray-800",children:L(s==null?void 0:s.following)}),e.jsx("div",{className:"text-sm text-gray-500",children:"Following"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:S(s)}),e.jsx("p",{className:"text-sm text-gray-500",children:s==null?void 0:s.email})]}),e.jsx("div",{className:"border-t border-gray-200 mb-4"}),e.jsx("nav",{className:"space-y-2",children:o.map(r=>e.jsxs("button",{onClick:()=>i(r.id),className:`w-full flex items-center justify-between px-4 py-3.5 text-left transition-colors duration-200  ${a===r.id?"bg-blue-600 text-white rounded-full":"text-gray-700 rounded-lg"}`,children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`flex items-center justify-center w-6 h-6 ${a===r.id?"text-white":"text-gray-600"}`,children:r.icon}),e.jsx("span",{className:"font-semibold text-base",children:r.label})]}),e.jsx(z,{className:`w-5 h-5 transition-transform ${a===r.id?"text-white":"text-gray-400"}`})]},r.id))})]}),ne=({user:s,sidebarItems:o,activeTab:a,onTabChange:i,breadcrumb:r,children:t})=>e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"w-full lg:max-w-screen-xl mx-auto px-4 lg:px-6  py-4 sm:py-8",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4",children:[e.jsx("div",{className:"lg:col-span-1 hidden lg:block",children:e.jsx(re,{user:s,sidebarItems:o,activeTab:a,onTabChange:i})}),e.jsx("div",{className:"col-span-4 lg:col-span-3  lg:px-8",children:t})]})})}),h=({name:s,label:o,...a})=>{var n;const{register:i,formState:{errors:r}}=f(),t=r[s];return e.jsxs("div",{className:"w-full",children:[e.jsx(v,{htmlFor:s,className:t?"text-red-500":"",children:o}),e.jsx(A,{id:s,...i(s),...a,className:`mt-2 rounded-full ${t?"border-red-500":"border-gray-300"}`}),t&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:(n=t.message)==null?void 0:n.toString()})]})},y=({name:s,label:o,placeholder:a,options:i})=>{var x;const{control:r,formState:{errors:t}}=f(),n=t[s];return e.jsxs("div",{className:"w-full",children:[e.jsx(v,{htmlFor:s,className:n?"text-red-500":"",children:o}),e.jsx(T,{name:s,control:r,render:({field:d})=>e.jsxs(q,{onValueChange:d.onChange,defaultValue:d.value,children:[e.jsx(K,{id:s,className:`mt-2 rounded-full w-full ${n?"border-red-500":"border-gray-300"}`,children:e.jsx(G,{placeholder:a})}),e.jsx(J,{className:"w-full",children:i.map(m=>e.jsx(Q,{value:m.value,children:m.label},m.value))})]})}),n&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:(x=n.message)==null?void 0:x.toString()})]})},oe=({name:s,label:o,...a})=>{var n;const{register:i,formState:{errors:r}}=f(),t=r[s];return e.jsxs("div",{className:"w-full",children:[e.jsx(v,{htmlFor:s,className:t?"text-red-500":"",children:o}),e.jsx(R,{id:s,...i(s),...a,className:`mt-2 resize-none rounded-xl min-h-40 ${t?"border-red-500":"border-gray-300"}`}),t&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:(n=t.message)==null?void 0:n.toString()})]})},ce=[{value:"USA",label:"USA"},{value:"Canada",label:"Canada"},{value:"UK",label:"UK"},{value:"Europe",label:"Europe"},{value:"Asia",label:"Asia"},{value:"Other",label:"Other"}],me=[{value:"IT and Services",label:"IT and Services"},{value:"Healthcare",label:"Healthcare"},{value:"Finance",label:"Finance"},{value:"Education",label:"Education"},{value:"Marketing",label:"Marketing"},{value:"Other",label:"Other"}],de=[{value:"1-10 Employees",label:"1-10 Employees"},{value:"11-50 Employees",label:"11-50 Employees"},{value:"51-100 Employees",label:"51-100 Employees"},{value:"100-200 Employees",label:"100-200 Employees"},{value:"200+ Employees",label:"200+ Employees"}],xe=B({avatar:c().optional(),displayName:c().optional(),firstName:c().min(2,"First name must be at least 2 characters"),lastName:c().min(2,"Last name must be at least 2 characters"),email:c().email("Invalid email address"),region:c().min(1,"Please select a region"),description:c().optional(),industry:c().min(1,"Please select an industry"),title:c().min(2,"Title must be at least 2 characters"),companyName:c().min(2,"Company name must be at least 2 characters"),companySize:c().min(1,"Please select company size"),linkedinUrl:c().url("Invalid LinkedIn URL").optional().or(U("")),twitterUrl:c().url("Invalid Twitter URL").optional().or(U(""))}),he=({initialData:s,onSubmit:o})=>{const a=O(),{user:i}=E(),[r,t]=g.useState(null),[n,x]=g.useState(null),d=X(),m=$({mode:"onChange",resolver:D(xe),defaultValues:s});g.useEffect(()=>{m.reset(s)},[s]),console.log("initialData",i,s);const b=l=>{if(!l.type.startsWith("image/")){alert("Please select an image file");return}if(l.size>5*1024*1024){alert("File size must be less than 5MB");return}t(l),x(URL.createObjectURL(l))},p=async l=>{try{await d.mutateAsync({profileData:{firstName:l.firstName,lastName:l.lastName,region:l.region,description:l.description,industry:l.industry,title:l.title,companyName:l.companyName,companySize:l.companySize,socialLinks:{linkedin:l.linkedinUrl,twitter:l.twitterUrl},avatar:l.avatar},imageFile:r||void 0}),t(null),n&&(URL.revokeObjectURL(n),x(null)),o&&o(l)}catch(j){console.error("Profile update failed:",j)}},u=()=>{const l=document.createElement("input");l.type="file",l.accept="image/*",l.onchange=j=>{var P;const k=(P=j.target.files)==null?void 0:P[0];k&&b(k)},l.click()},M=n||m.watch("avatar")||(i==null?void 0:i.avatar);return S(i),e.jsx(H,{...m,children:e.jsxs("div",{className:"",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-6 sm:mb-8 flex items-center gap-2",children:[e.jsxs("span",{className:"block lg:hidden",onClick:()=>a(-1),children:[" ",e.jsx(ae,{className:"w-6 h-6"})]}),"Profile Details"]}),e.jsxs("form",{onSubmit:m.handleSubmit(p),className:"space-y-6 sm:space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Personal details"}),e.jsx("div",{className:"flex items-center mb-4 sm:mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsxs(F,{className:"w-16 h-16 sm:w-20 sm:h-20",children:[e.jsx(C,{className:"object-cover",src:M,alt:"Profile"}),e.jsx(I,{className:"text-sm sm:text-base",children:w(i)})]}),e.jsx("div",{className:"absolute -bottom-1 -right-1",children:e.jsx("button",{type:"button",onClick:u,disabled:d.isPending,className:"bg-blue-500 rounded-full p-1 shadow-md hover:shadow-lg transition-shadow cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(_,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})})})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx(h,{name:"firstName",label:"First Name"}),e.jsx(h,{name:"lastName",label:"Last Name"}),e.jsx(h,{name:"email",label:"Email",type:"email",disabled:!0}),e.jsx(y,{name:"region",label:"Region",placeholder:"Select region",options:ce})]}),e.jsx("div",{className:"mt-4 sm:mt-6",children:e.jsx(oe,{name:"description",label:"Description",rows:4,className:"min-h-32 sm:min-h-40"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Professional Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx(y,{name:"industry",label:"Industry",placeholder:"Select industry",options:me}),e.jsx(h,{name:"title",label:"Title"}),e.jsx(h,{name:"companyName",label:"Company Name"}),e.jsx(y,{name:"companySize",label:"Company Size",placeholder:"Select company size",options:de})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Social Links"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx(h,{type:"url",name:"linkedinUrl",label:"LinkedIn Profile URL",placeholder:"https://www.linkedin.com/in/your-profile"}),e.jsx(h,{type:"url",name:"twitterUrl",label:"Twitter Profile URL",placeholder:"https://twitter.com/your-handle"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between pt-4 sm:pt-6 border-t border-gray-200 gap-4 sm:gap-0",children:[e.jsx("button",{type:"button",className:"text-red-600 hover:text-red-700 font-medium text-sm order-2 sm:order-1",children:"Looking to change your password?"}),e.jsx(V,{type:"submit",disabled:d.isPending,className:"w-full sm:w-auto px-6 sm:px-8 rounded-full bg-blue-500 text-white hover:bg-blue-600 order-1 sm:order-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d.isPending?"Saving...":"Save"})]})]})]})})},ue=()=>{var m,b;const[s,o]=g.useState("profile-details"),{user:a}=E();if(!a)return e.jsx("div",{children:"Loading..."});const i={...a,initials:w(a)},r={avatar:(a==null?void 0:a.avatar)||"",displayName:S(a)||"",firstName:(a==null?void 0:a.firstName)||"",lastName:(a==null?void 0:a.lastName)||"",email:(a==null?void 0:a.email)||"",region:(a==null?void 0:a.region)||"",description:(a==null?void 0:a.description)||"",industry:(a==null?void 0:a.industry)||"",title:(a==null?void 0:a.title)||"",companyName:(a==null?void 0:a.companyName)||"",companySize:(a==null?void 0:a.companySize)||"",linkedinUrl:((m=a==null?void 0:a.socialLinks)==null?void 0:m.linkedin)||"",twitterUrl:((b=a==null?void 0:a.socialLinks)==null?void 0:b.twitter)||""},t=[{id:"profile-details",label:"Profile Details",icon:e.jsx(Y,{className:"w-5 h-5"})},{id:"my-reviews",label:"My Reviews",icon:e.jsx(Z,{className:"w-5 h-5"})},{id:"my-favourites",label:"My Favourites",icon:e.jsx(W,{className:"w-5 h-5"})},{id:"notifications",label:"Notifications",icon:e.jsx(le,{className:"w-5 h-5"})},{id:"logout",label:"Logout",icon:e.jsx(ie,{className:"w-5 h-5"})}],n={home:"Home",current:"My Profile"},x=p=>{o(p)},d=()=>{var p;switch(s){case"profile-details":return e.jsx(he,{initialData:r});default:return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 ",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:(p=t.find(u=>u.id===s))==null?void 0:p.label}),e.jsxs("p",{className:"text-gray-600",children:["Content for ",s," will be implemented here."]})]})}};return e.jsx(ne,{user:i,sidebarItems:t,activeTab:s,onTabChange:x,breadcrumb:n,children:d()})};export{ue as default};
